@model ServiceManagementApp.ViewModels.RepairViewModel

@{
    ViewBag.Title = "Създаване на нов ремонт";
}

<h2>Създаване на нов ремонт</h2>

<form asp-action="Create" method="post">
    <!-- Падащо меню за избор на заявка -->
    <div class="form-group">
        <label for="ServiceRequestId">Изберете заявка</label>
        <select asp-for="ServiceRequestId" class="form-control" asp-items="ViewBag.ServiceRequests"></select>
        <span asp-validation-for="ServiceRequestId" class="text-danger"></span>
    </div>

    <!-- Падащо меню за избор на техник -->
    <div class="form-group">
        <label for="EmployeeId">Изберете техник</label>
        <select asp-for="EmployeeId" class="form-control" asp-items="ViewBag.Employees"></select>
        <span asp-validation-for="EmployeeId" class="text-danger"></span>
    </div>

    <!-- Поле за описание на проблема (попълва се от заявката) -->
    <div class="form-group">
        <label for="ProblemDescription">Описание на проблема</label>
        <textarea asp-for="ProblemDescription" class="form-control" ></textarea>
        <span asp-validation-for="ProblemDescription" class="text-danger"></span>
    </div>

    <!-- Поле за описание на извършения ремонт (попълва се от техника) -->
    <div class="form-group">
        <label for="RepairDescription">Описание на извършения ремонт (по избор)</label>
        <textarea asp-for="RepairDescription" class="form-control"></textarea>
        <span asp-validation-for="RepairDescription" class="text-danger"></span>
    </div>

    <!-- Поле за цена на ремонта -->
    <div class="form-group">
        <label for="RepairCost">Цена на ремонта</label>
        <input asp-for="RepairCost" class="form-control" type="number" step="0.01" />
        <span asp-validation-for="RepairCost" class="text-danger"></span>
    </div>

    <!-- Бутон за създаване на ремонта -->
    <button type="submit" class="btn btn-primary">Създай ремонт</button>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
